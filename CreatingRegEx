using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;


namespace ConsoleApplication3
{
    internal class Program
    {
        private static void Main(string[] args)
        {

            string[] file = System.IO.File.ReadAllLines("test.txt");

            

            List<string> PhoneNum = new List<string>();

            foreach (string line in file)
            {
                  PhoneNum.Add(line);

           }
 

            List<string> Level1 = new List<string>();
            List<string> Level2 = new List<string>();
            List<string> Level3 = new List<string>();
            List<string> Level4 = new List<string>();
            List<string> Level5 = new List<string>();
            List<string> Level6 = new List<string>();
            List<string> Level7 = new List<string>();

            foreach (string k in PhoneNum)               // brakes up each number passed throug and adds it to the proper list
            {


                char[] charArr = k.ToCharArray();


                var level1Exp = new string(new char[] { charArr[0] });
                Level1.Add(level1Exp);

                var level2Exp = new string(new char[] { charArr[0], charArr[1] });
                Level2.Add(level2Exp);

                var level3Exp = new string(new char[] { charArr[0], charArr[1], charArr[2] });
                Level3.Add(level3Exp);

                var level4Exp = new string(new char[] { charArr[0], charArr[1], charArr[2], charArr[3] });
                Level4.Add(level4Exp);

                var level5Exp = new string(new char[] { charArr[0], charArr[1], charArr[2], charArr[3], charArr[4] });
                Level5.Add(level5Exp);

                var level6Exp = new string(new char[] { charArr[0], charArr[1], charArr[2], charArr[3], charArr[4], charArr[5] });
                Level6.Add(level6Exp);

              


            }

            Level1.Sort();
            Level2.Sort();
            Level3.Sort();
            Level4.Sort();                                     //Sorts each list
            Level5.Sort();
            Level6.Sort();
            Level7.Sort();

            Level1 = CreatePatterns.Level1Pattern(Level1);
            Level2 = CreatePatterns.Level2Pattern(Level2);
            Level3 = CreatePatterns.Level3Pattern(Level3);
            Level4 = CreatePatterns.Level4Pattern(Level4);
            Level5 = CreatePatterns.Level5Pattern(Level5);
            Level6 = CreatePatterns.Level6Pattern(Level6);
         

            var mergList = Level1.Union(Level2).Union(Level3).Union(Level4).Union(Level5).Union(Level6).ToList();
            CreatePatterns.PrintList(mergList);

            var sw = new StreamWriter("num.txt");

            foreach (var r in mergList)
            {
                sw.WriteLine(r);
            }

            Console.ReadKey();






        }



    }
}
